updateFiles:
  -
    file: "typo3/sysext/core/Classes/Core/SystemEnvironmentBuilder.php"
    # Escaped ' is done via ''
    pattern: '\''TYPO3_version\'',\s*\''([^\'']+)'
    type: "bugfixVersion"
  -
    file: "typo3/sysext/core/Classes/Core/SystemEnvironmentBuilder.php"
    pattern: '\''TYPO3_branch\'',\s*\''([^\'']+)'
    type: "minorVersion"
  -
    file: "typo3/sysext/*/ext_emconf.php"
    pattern: '\''(?!.*?php).*\''\s=>\s\''([6-9]+\.[0-9]+\.[0-9]+\s*[\-]*\s*[6-9]*\.*[0-9]*\.*[0-9]*)'
    type: "bugfixVersion"
  -
    file: "typo3/sysext/*/composer.json"
    pattern: '"typo3\/cms-[^"]+"\s*:\s*"([6-9]+\.[0-9]+\.\*@dev)'
    type: "bugfixVersion"
  -
    file: "typo3/sysext/core/Classes/Core/SystemEnvironmentBuilder.php"
    # Escaped ' is done via ''
    pattern: '\''TYPO3_version\'',\s*\''([^\'']+)'
    type: "nextDevVersion"
  -
    file: "typo3/sysext/*/composer.json"
    pattern: '"typo3\/cms-[^"]+"\s*:\s*"([6-9]+\.[0-9]+\.[0-9]+)'
    type: "nextDevBranch"
  # ensure 8.7.5 is replaced by 8.7.6
  -
    file: "typo3/sysext/*/ext_emconf.php"
    pattern: '\''(?!.*?php).*\''\s=>\s\''([6-9]+\.[0-9]+\.[0-9]+\s*[\-]*\s*[6-9]*\.*[0-9]*\.*[0-9]*)'
    type: "nextBugfixVersion"



excludeFromPackaging:
  ".":
    - ".editorconfig"
    - ".gitignore"
    - ".gitmodules"
    - ".gitattributes"
    - ".gitreview"
    - ".stylelintrc"
    - "dynamicReturnTypeMeta.json"
    - "bin"
    - "Build"
    - "*.webprj"
    - "*.orig"
    - "*~"
    - ".travis.yml"
    - ".appveyor.yml"
  "**":
    - ".gitignore"
    - ".git/"
    - ".svn"
    - ".travis.yml"
    - ".appveyor.yml"
  "vendor/**":
    - "Test"
    - "tests"
    - "Tests"
    - "docs"
    - "examples"
    - "example.php"

executableFilesInPackage:
  - "*.phpcron"
  - "*.phpsh"
  - "*.sh"
  - "*.pl"
  - "typo3/sysext/core/bin/typo3"
